<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8">
    <title> API Display - GG&J -solutions- </title>
</head>

<body>
    <h2> This is a test page</h2>
    <h3> Will be used to display the API data from Yahoo Finance </h3>
    <h3> We will be querying for the "^IPSA" value </h3>
    <h4> If you click on it, will display "undefined."</h4>
    <h4> That's because the API tooks ~2 [sec] to retrieve the data</h4>
    <h4> After that, you can click again and will show a JSON with all the data.</h4>
    <input type="button" id="api-button" value="Get API data" />
    <h4> API Data: </h4>
    <p id="data"> </p>
</body>

<script>
    const yahooFinance = require('yahoo-finance');  // For getting API data

    let data;

    yahooFinance.historical({
        symbol: '^IPSA',
        from: '2018-01-01',
        to: '2018-01-31'
    }, function(err, quotes){
        console.log("DSA ERR");
        console.log(err);
        console.log(quotes);
        data = JSON.stringify(quotes);
    });
</script>

<script>
    const { ipcRenderer } = require('electron');

    document.getElementById("api-button").addEventListener("click", () => {
        let api_data = document.getElementById("data");

        api_data.innerHTML = data;
    });
</script>

<footer style="display:table; text-align: center; margin-left: auto; margin-right:auto;">
    <div>
        <p>Copyright &copy; GG&J -solutions- </p>
    </div>
</footer>

</html>